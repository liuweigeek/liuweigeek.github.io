<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Scott Lau | CentOS 7环境配置</title>
    <meta name="description" content="配置CentOS 7环境的常用设置">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <meta property="og:title" content="CentOS 7环境配置">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://liuweigeek.github.io/posts/centos-7%E8%BF%90%E7%BB%B4%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE">
    <meta property="og:description" content="配置CentOS 7环境的常用设置">
    <meta property="og:site_name" content="Scott Lau">

    <meta name="twitter:card" content="summary">
    <meta name="twitter:url" content="https://liuweigeek.github.io/posts/centos-7%E8%BF%90%E7%BB%B4%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE">
    <meta name="twitter:title" content="CentOS 7环境配置">
    <meta name="twitter:description" content="配置CentOS 7环境的常用设置">

    
    <meta property="og:image" content="/assets/images/og-image.jpg">
    <meta name="twitter:image" content="/assets/images/og-image.jpg">
    

    <link href="https://liuweigeek.github.io/feed.xml" type="application/rss+xml" rel="alternate"
          title="Scott Lau Last 10 blog posts"/>

    

    

    
    <link rel="icon" type="image/x-icon" href="/assets/images/favicon-dark.ico">
    <link rel="apple-touch-icon" href="/assets/images/apple-touch-icon-dark.png">
    <link rel="stylesheet" type="text/css" title="light" id="light" href="/assets/css/light.css">
    <link rel="stylesheet" type="text/css" title="dark" id="dark" href="/assets/css/dark.css"
          disabled="true">
    

    

</head>

<body>
<main>
    <div class="grid grid-centered">
        <div class="grid-cell">
            <nav class="header-nav scrollappear">
    <a href="/" class="header-logo" title="Scott Lau">Scott Lau</a>
    <ul class="header-links">
        
        <li>
            <a href="/about" title="About me">
                <svg xmlns="http://www.w3.org/2000/svg" class="icon-about">
    <use href="/assets/icons/about.svg#icon-about"
         xlink:href="/assets/icons/about.svg#icon-about">
    </use>
</svg>

            </a>
        </li>
        
        
        <li>
            <a href="https://twitter.com/liuweigeek" rel="noreferrer noopener" target="_blank"
               title="Twitter">
                <svg xmlns="http://www.w3.org/2000/svg" class="icon-twitter">
    <use href="/assets/icons/twitter.svg#icon-twitter"
         xlink:href="/assets/icons/twitter.svg#icon-twitter">
    </use>
</svg>

            </a>
        </li>
        
        
        <li>
            <a href="https://www.facebook.com/liuweigeek" rel="noreferrer noopener" target="_blank"
               title="Facebook">
                <svg xmlns="http://www.w3.org/2000/svg" class="icon-facebook">
    <use href="/assets/icons/facebook.svg#icon-facebook"
         xlink:href="/assets/icons/facebook.svg#icon-facebook">
    </use>
</svg>

            </a>
        </li>
        
        
        
        <li>
            <a href="https://github.com/liuweigeek" rel="noreferrer noopener" target="_blank"
               title="GitHub">
                <svg xmlns="http://www.w3.org/2000/svg" class="icon-github">
    <use href="/assets/icons/github.svg#icon-github"
         xlink:href="/assets/icons/github.svg#icon-github">
    </use>
</svg>

            </a>
        </li>
        
        
        
        
        
        
        
        
        
        
        <li>
            <a href="https://instagram.com/liuweigeek" rel="noreferrer noopener" target="_blank"
               title="Instagram">
                <svg xmlns="http://www.w3.org/2000/svg" class="icon-instagram">
    <use href="/assets/icons/instagram.svg#icon-instagram"
         xlink:href="/assets/icons/instagram.svg#icon-instagram">
    </use>
</svg>

            </a>
        </li>
        
        
        
        
        
        
        
        
        
        
        <li>
            <a href="mailto:liuweigeek@outlook.com" title="Email">
                <svg xmlns="http://www.w3.org/2000/svg" class="icon-email">
    <use href="/assets/icons/email.svg#icon-email"
         xlink:href="/assets/icons/email.svg#icon-email">
    </use>
</svg>

            </a>
        </li>
        
        
        
        <li>
            <a onclick="toggle()" title="Toggle Theme">
                <svg xmlns="http://www.w3.org/2000/svg" class="icon-theme">
    <use href="/assets/icons/theme.svg#icon-theme"
         xlink:href="/assets/icons/theme.svg#icon-theme">
    </use>
</svg>

            </a>
        </li>
        
    </ul>
</nav>


<ul class="header-tags scrollappear">
    
    
    
    <li><a href="/tag/life">Life</a></li>
    
    
    <li><a href="/tag/linux">Linux</a></li>
    
</ul>


            <article class="article scrollappear">
                <header class="article-header">
                    <h1>CentOS 7环境配置</h1>
                    <p>配置CentOS 7环境的常用设置</p>
                    <div class="article-list-footer">
  <span class="article-list-date">
    July 7, 2018
  </span>
  <span class="article-list-divider">-</span>
  <span class="article-list-minutes">
    
    
      2 minute read
    
  </span>
  <span class="article-list-divider">-</span>
  <div class="article-list-tags">
    
      
      <a href="/tag/linux" title="See all posts with tag 'Linux'">Linux</a>
    
  </div>
</div>
                </header>

                <div class="article-content">
                    <h3 id="阿里云源配置">阿里云源配置</h3>

<ul>
  <li>官网：https://developer.aliyun.com/mirror/</li>
  <li>备份</li>
</ul>

<figure class="highlight"><pre><code class="language-sh" data-lang="sh"><span class="nb">mv</span> /etc/yum.repos.d/CentOS-Base.repo /etc/yum.repos.d/CentOS-Base.repo.backup</code></pre></figure>

<ul>
  <li>下载新的CentOS-Base.repo到/etc/yum.repos.d/</li>
</ul>

<figure class="highlight"><pre><code class="language-sh" data-lang="sh">wget <span class="nt">-O</span> /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-7.repo</code></pre></figure>

<p>或者</p>

<figure class="highlight"><pre><code class="language-sh" data-lang="sh">curl <span class="nt">-o</span> /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-7.repo</code></pre></figure>

<ul>
  <li>生成缓存</li>
</ul>

<figure class="highlight"><pre><code class="language-sh" data-lang="sh">yum makecache</code></pre></figure>

<h3 id="服务常用命令">服务常用命令</h3>

<ul>
  <li>启动服务</li>
</ul>

<figure class="highlight"><pre><code class="language-sh" data-lang="sh">systemctl start firewalld</code></pre></figure>

<ul>
  <li>查看服务状态</li>
</ul>

<figure class="highlight"><pre><code class="language-sh" data-lang="sh">systemctl status firewalld</code></pre></figure>

<ul>
  <li>重启服务</li>
</ul>

<figure class="highlight"><pre><code class="language-sh" data-lang="sh">systemctl restart firewalld</code></pre></figure>

<ul>
  <li>停止服务</li>
</ul>

<figure class="highlight"><pre><code class="language-sh" data-lang="sh">systemctl stop firewalld</code></pre></figure>

<ul>
  <li>开机启用</li>
</ul>

<figure class="highlight"><pre><code class="language-sh" data-lang="sh">systemctl <span class="nb">enable </span>firewalld</code></pre></figure>

<ul>
  <li>禁止开机启动</li>
</ul>

<figure class="highlight"><pre><code class="language-sh" data-lang="sh">systemctl disable firewalld</code></pre></figure>

<ul>
  <li>查看服务是否开机启动</li>
</ul>

<figure class="highlight"><pre><code class="language-sh" data-lang="sh">systemctlis enabled firewalld</code></pre></figure>

<ul>
  <li>查看已启动的服务列表</li>
</ul>

<figure class="highlight"><pre><code class="language-sh" data-lang="sh">systemctl list-unit-files | <span class="nb">grep </span>enabled</code></pre></figure>

<ul>
  <li>查看启动失败的服务列表</li>
</ul>

<figure class="highlight"><pre><code class="language-sh" data-lang="sh">systemctl <span class="nt">--failed</span></code></pre></figure>

<h3 id="防火墙配置">防火墙配置</h3>
<ul>
  <li>查看版本</li>
</ul>

<figure class="highlight"><pre><code class="language-sh" data-lang="sh">firewall-cmd <span class="nt">--version</span></code></pre></figure>

<ul>
  <li>显示状态</li>
</ul>

<figure class="highlight"><pre><code class="language-sh" data-lang="sh">firewall-cmd <span class="nt">--state</span></code></pre></figure>

<ul>
  <li>查看所有打开的端口</li>
</ul>

<figure class="highlight"><pre><code class="language-sh" data-lang="sh">firewall-cmd <span class="nt">--zone</span><span class="o">=</span>public <span class="nt">--list-ports</span></code></pre></figure>

<ul>
  <li>更新防火墙规则</li>
</ul>

<figure class="highlight"><pre><code class="language-sh" data-lang="sh">firewall-cmd <span class="nt">--reload</span></code></pre></figure>

<ul>
  <li>查看区域信息</li>
</ul>

<figure class="highlight"><pre><code class="language-sh" data-lang="sh">firewall-cmd <span class="nt">--get-active-zones</span></code></pre></figure>

<ul>
  <li>查看指定接口所属区域</li>
</ul>

<figure class="highlight"><pre><code class="language-sh" data-lang="sh">firewall-cmd <span class="nt">--get-zone-of-interface</span><span class="o">=</span>eth0</code></pre></figure>

<ul>
  <li>拒绝所有包</li>
</ul>

<figure class="highlight"><pre><code class="language-sh" data-lang="sh">firewall-cmd <span class="nt">--panic-on</span></code></pre></figure>

<ul>
  <li>取消拒绝状态</li>
</ul>

<figure class="highlight"><pre><code class="language-sh" data-lang="sh">firewall-cmd <span class="nt">--panic-off</span></code></pre></figure>

<ul>
  <li>查看是否拒绝</li>
</ul>

<figure class="highlight"><pre><code class="language-sh" data-lang="sh">firewall-cmd <span class="nt">--query-panic</span></code></pre></figure>

<ul>
  <li>开放端口(parmanent永久生效)</li>
</ul>

<figure class="highlight"><pre><code class="language-sh" data-lang="sh">firewall-cmd <span class="nt">--zone</span><span class="o">=</span>public <span class="nt">--add-port</span><span class="o">=</span>80/tcp <span class="nt">--permanent</span></code></pre></figure>

<ul>
  <li>查看端口</li>
</ul>

<figure class="highlight"><pre><code class="language-sh" data-lang="sh">firewall-cmd <span class="nt">--zone</span><span class="o">=</span>public <span class="nt">--query-port</span><span class="o">=</span>80/tcp</code></pre></figure>

<ul>
  <li>取消开放端口</li>
</ul>

<figure class="highlight"><pre><code class="language-sh" data-lang="sh">firewall-cmd <span class="nt">--zone</span><span class="o">=</span>public <span class="nt">--remove-port</span><span class="o">=</span>80/tcp <span class="nt">--permanent</span></code></pre></figure>

<ul>
  <li>查看当前已开启端口服务</li>
</ul>

<figure class="highlight"><pre><code class="language-sh" data-lang="sh">firewall-cmd <span class="nt">--list-services</span></code></pre></figure>

<ul>
  <li>查看可开启服务</li>
</ul>

<figure class="highlight"><pre><code class="language-sh" data-lang="sh">firewall-cmd <span class="nt">--get-services</span></code></pre></figure>

<ul>
  <li>查看当前已开启端口</li>
</ul>

<figure class="highlight"><pre><code class="language-sh" data-lang="sh">firewall-cmd <span class="nt">--zone</span><span class="o">=</span>public <span class="nt">--list-ports</span></code></pre></figure>


                </div>
                <div class="article-share">
                    
                    
                    <a href="https://twitter.com/home?status=CentOS+7%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE%20-%20https://liuweigeek.github.io/posts/centos-7%E8%BF%90%E7%BB%B4%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE%20by%20@liuweigeek"
                       title="Share on Twitter" rel="noreferrer noopener" target="_blank">
                        <svg viewBox="0 0 512 512">
                            <path d="M492 109.5c-17.4 7.7-36 12.9-55.6 15.3 20-12 35.4-31 42.6-53.6 -18.7 11.1-39.4 19.2-61.5 23.5C399.8 75.8 374.6 64 346.8 64c-53.5 0-96.8 43.4-96.8 96.9 0 7.6 0.8 15 2.5 22.1 -80.5-4-151.9-42.6-199.6-101.3 -8.3 14.3-13.1 31-13.1 48.7 0 33.6 17.2 63.3 43.2 80.7C67 210.7 52 206.3 39 199c0 0.4 0 0.8 0 1.2 0 47 33.4 86.1 77.7 95 -8.1 2.2-16.7 3.4-25.5 3.4 -6.2 0-12.3-0.6-18.2-1.8 12.3 38.5 48.1 66.5 90.5 67.3 -33.1 26-74.9 41.5-120.3 41.5 -7.8 0-15.5-0.5-23.1-1.4C62.8 432 113.7 448 168.3 448 346.6 448 444 300.3 444 172.2c0-4.2-0.1-8.4-0.3-12.5C462.6 146 479 129 492 109.5z"/>
                        </svg>
                    </a>
                    <a href="https://www.facebook.com/sharer/sharer.php?u=https://liuweigeek.github.io/posts/centos-7%E8%BF%90%E7%BB%B4%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE"
                       title="Share on Facebook" rel="noreferrer noopener" target="_blank">
                        <svg viewBox="0 0 512 512">
                            <path d="M288 192v-38.1c0-17.2 3.8-25.9 30.5-25.9H352V64h-55.9c-68.5 0-91.1 31.4-91.1 85.3V192h-45v64h45v192h83V256h56.4l7.6-64H288z"/>
                        </svg>
                    </a>
                </div>

                
            </article>
            <footer class="footer scrollappear">
    <p>
        Because the people who are crazy enough to think that they can change the world, are the ones who do.
    </p>
</footer>

        </div>
    </div>
</main>
<script src="/assets/js/vendor.js"></script>


<script src="/assets/js/webfonts.js"></script>



<script src="/assets/js/scrollappear.js"></script>


<script src="/assets/js/application.js"></script>


<script src="/assets/js/themetoggle.js"></script>


</body>
</html>
